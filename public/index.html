<html>
<head>
    <meta charset="UTF-8">
    <title>Pasbeheer voordeur soci&euml;teit</title>

    <link rel="stylesheet" href="stylesheets/application.css">
    <script src="javascripts/zepto.min.js"></script>
    <script src="javascripts/handlebars.min.js"></script>
    <script src="javascripts/config.js"></script>
    <script src="javascripts/oauth.js"></script>
    <script src="javascripts/application.js"></script>
</head>
<body>
    <h1>Pasbeheer voordeur soci&euml;teit</h1>

    <div id="error"></div>

    <table id="passes">
        <thead>
            <tr>
                <th>Naam</th>
                <th>Heeft pas</th>
                <th>Krijgt toegang</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>

    <div id="spinner">
        <img src="images/spinner.gif" alt=""> Passen opzoeken
    </div>

    <h2>Nieuwe pas instellen</h2>
    <p>
        Laat het lid zijn of haar pas tweemaal voor de scanner houden. Pasbeheer haalt automatisch de laatste twee gescande passen op uit de database, en voegt het pasnummer hier toe. Als de laatste twee pasnummer niet hetzelfde zijn, kun je de pas niet instellen.
    </p>
    <form action="/aanmaken">
        <p>
            <label for="user_id">Lid</label>
            <select name="user_id" id="user_id"></select>
        </p>
        <p>
            <label for="pass_id">Pas</label>
            <input type="text" name="pass_id" id="pass_id" disabled>
        </p>
        <p>
            <input type="submit" name="" value="Pas instellen">
        </p>
    </form>

    <script type="text/x-handlebars" id="row">
        <tr>
            <td>{{ name }}</td>
            <td>
                {{#if pass}}
                    <a href="#" data-uid="{{uid}}" class="status pass yes">&check; heeft pas</a>
                {{else}}
                    <a href="#" data-uid="{{uid}}" class="status pass no">&cross; geen pas</a>
                {{/if}}
            </td>
            <td>
                {{#if access}}
                    <a href="#" data-uid="{{uid}}" class="status access yes">&check; krijgt toegang</a>
                {{else}}
                    <a href="#" data-uid="{{uid}}" class="status access no">&cross; geen toegang</a>
                {{/if}}
            </td>
        </tr>
    </script>
</body>
</html>
